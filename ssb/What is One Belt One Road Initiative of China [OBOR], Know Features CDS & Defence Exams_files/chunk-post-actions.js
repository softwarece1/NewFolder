(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[151],{"5QVm":function(e,n,t){"use strict";var i=t("q1tI"),a=t.n(i).a.createElement;n.a=a("path",{d:"M26.9174617,5.97104977 C28.3395634,7.01765273 29.0586036,8.8072639 29.0586036,11.2999366 L29.0586036,17.6594477 L37.7749687,17.6594477 C38.8695077,17.6594477 39.9161107,17.9949998 40.8029269,18.6341466 C42.3688367,19.7526536 43.1757596,21.7499875 42.8641755,23.7233534 L40.7230335,37.3212025 C40.3235668,40.5728621 38.0466061,42.4343773 34.4833625,42.4343773 L17.7217365,42.4343773 C16.2197414,42.4343773 14.8695437,41.7952304 13.9188127,40.7805848 C13.782994,41.3717956 13.519346,20.1680991 13.759026,20.5595765 C14.0466421,20.4583783 14.1957764,20.4077791 14.2064288,20.4077791 C14.2224075,20.3997898 15.948104,19.904451 17.6338538,18.6980613 C19.8149424,17.1401409 20.9174707,15.1747643 20.9174707,12.8498677 L20.9174707,5.99501778 C20.9174707,5.68343369 21.1172041,5.40380695 21.4207988,5.30793492 C21.5486282,5.26798825 24.6644691,4.31725731 26.9174617,5.97104977 Z M10.1644369,40.7274745 L4.65438099,40.7274745 C4.29297635,40.7274745 4,40.4344982 4,40.0730935 L4,21.0584749 C4,20.6970703 4.29297635,20.4040939 4.65438099,20.4040939 L10.1644369,20.4040939 C10.5258416,20.4040939 10.8188179,20.6970703 10.8188179,21.0584749 L10.8188179,40.0730935 C10.8188179,40.4344982 10.5258416,40.7274745 10.1644369,40.7274745 Z",fillRule:"nonzero"})},"5ZmF":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"unlikePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlikePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"done"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:72}};t.loc.source={body:"mutation unlikePost($id: ID!) {\n\tunlikePost(id: $id) {\n\t\tid\n\t\tdone\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.unlikePost=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var o=i[n]||new Set,r=new Set,c=new Set;for(o.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){c.add(e)})))}))}return r.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"unlikePost")},GKVU:function(e,n,t){"use strict";var i=t("I+eb"),a=t("hXpO");i({target:"String",proto:!0,forced:t("rwPt")("anchor")},{anchor:function(e){return a(this,"a","name",e)}})},aJpp:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"likePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"likePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"done"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:67}};t.loc.source={body:"mutation likePost($id: ID!) {\n\tlikePost(id: $id) {\n\t\tid\n\t\tdone\n\t}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.likePost=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var o=i[n]||new Set,r=new Set,c=new Set;for(o.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){c.add(e)})))}))}return r.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"likePost")},irV9:function(e,n,t){"use strict";t("GKVU");var i=t("wx14"),a=t("Ff2n"),o=t("q1tI"),r=t.n(o).a.createElement,c=function(e){var n="ma0 tc pointer tracked-sm outline-0 b--solid no-user-select",t=e.className,o=e.type,c=e.anchor,s=Object(a.a)(e,["className","type","anchor"]);return c?r("a",Object(i.a)({},s,{className:"".concat(n," ").concat(t)}),e.children):r("button",Object(i.a)({},s,{type:o,className:"".concat(n," ").concat(t)}),e.children)};c.defaultProps={children:null,className:"",type:"button",anchor:!0},n.a=c},n3PS:function(e,n,t){"use strict";t.r(n),function(e){t("ma9I"),t("DQNa"),t("07d7"),t("SuFq"),t("JfAA");var i=t("1OyB"),a=t("vuIU"),o=t("JX7q"),r=t("Ji7U"),c=t("md7G"),s=t("foSv"),d=t("rePB"),l=t("q1tI"),u=t.n(l),f=t("vbcS"),v=t("GQew"),m=t("irV9"),p=t("ZvOr"),k=t("t19+"),h=t("aJpp"),C=t.n(h),b=t("5ZmF"),y=t.n(b),g=t("Sd6l"),N=t("5QVm"),S=t("ywKJ"),w=t("pKGW"),L=u.a.createElement;function P(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,i=Object(s.a)(e);if(n){var a=Object(s.a)(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return Object(c.a)(this,t)}}var E=function(e){Object(r.a)(t,e);var n=P(t);function t(){var e;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return e=n.call.apply(n,[this].concat(r)),Object(d.a)(Object(o.a)(e),"actionPost",(function(){var n=e.props,t=n.id,i=n.loading;if((0,n.setInteracted)(),i)return null;e.props.updateLikeCount(e.props.done?-1:1);var a=e.props.actionPost({variables:{id:t},optimisticResponse:Object(d.a)({},e.props.done?"unlikePost":"likePost",{done:!e.props.done,id:"".concat(t,"-like"),__typename:"LikePostUserAction"})});a&&a.catch&&a.catch((function(){return e.props.updateLikeCount(e.props.done?1:-1)}))})),e}return Object(a.a)(t,[{key:"render",value:function(){var e=this.props.done;return L(m.a,{anchor:!0,className:"flex items-center flex-shrink-0 bn pa3 bg-white no-hover-color overflow-hidden br2-l ".concat(e?"green":"gray hover-dark-gray hover-ssdg"),onClick:this.actionPost},L(v.a,{classes:"db mr2 ".concat(e?"svg-f-green":"svg-s-silver svg-fn"),spriteIcon:N.a,height:"17",width:"17",viewBox:"0 0 48 48",style:{strokeWidth:"2px"}}),L("span",{className:"flex f6-5"},"UPVOTE"))}}]),t}(u.a.Component);Object(d.a)(E,"defaultProps",{loading:!1,setInteracted:p.a});var O=function(n){var t=n.classes,i=n.post,a=void 0===i?{}:i,o=n.setInteracted,r=(a||{}).userActions,c=((void 0===r?{}:r)||{}).like,s=void 0===c?{}:c,d=function(){n.openAuthModal({title:"upvote this post",val:1})},u=Object(l.useContext)(k.a)[0];return L("div",{className:"flex justify-between ".concat(t)},L(f.a,{mutation:s.done?y.a:C.a},(function(e,t){var i=t.loading;return L(E,{loading:i,id:a.id,actionPost:(null==u?void 0:u.id)?e:d,done:Boolean(s.done),updateLikeCount:n.updateLikeCount,setInteracted:o})})),L(m.a,{anchor:!0,className:"flex items-center justify-center flex-shrink-0 bn pa3 overflow-hidden bg-white gray hover-dark-gray no-hover-color hover-ssdg br2-l",onClick:function(){o(),n.handleCommentClick(),e.document.querySelector("#createComment-".concat(n.post.id))&&e.document.querySelector("#createComment-".concat(n.post.id)).focus()}},L(v.a,{classes:"db mr2 svg-fn svg-s-silver",spriteIcon:S.a,viewBox:"0 0 48 30",height:"17",width:"17",style:{strokeWidth:"2px"}}),L("span",{className:"flex f6-5"},"COMMENT")),L(m.a,{anchor:!0,className:"flex items-center justify-end flex-shrink-0 bn pa3 overflow-hidden bg-white gray hover-dark-gray no-hover-color hover-ssdg br2-l",onClick:function(){var e;Object(g.i)({event:"share-modal",data:{link:"/".concat(a.slug||(null===(e=a.source)||void 0===e?void 0:e.slug)||"")}})}},L(v.a,{classes:"db mr2 svg-fn svg-s-silver",spriteIcon:w.a,height:"17",width:"17",viewBox:"0 0 48 40",style:{strokeWidth:"2px"}}),L("span",{className:"flex f6-5"},"SHARE")))};O.defaultProps={classes:"",updateLikeCount:p.a,setInteracted:p.a},n.default=O}.call(this,t("yLpj"))},pKGW:function(e,n,t){"use strict";var i=t("q1tI"),a=t.n(i).a.createElement;n.a=a("path",{d:"M28.1194296,25.6942418 C26.0467684,25.6942418 24.1900094,26.6873919 23.0241374,28.1987074 L12.5312901,22.1102651 C13.1789967,20.5125887 13.1789967,18.7421906 12.5312901,17.1445143 L23.0241374,11.056072 C24.1900094,12.5673875 26.0467684,13.5605376 28.1194296,13.5605376 C31.7034062,13.5605376 34.5964958,10.667448 34.5964958,7.08347137 C34.5964958,3.4994947 31.7034062,0.606405108 28.1194296,0.606405108 C24.5354529,0.606405108 21.6423633,3.4994947 21.6423633,7.08347137 C21.6423633,7.9470802 21.8150851,8.81068904 22.1173482,9.54475655 L11.6245008,15.6763793 C10.4154484,14.1650638 8.60186989,13.1719137 6.52920869,13.1719137 C2.94523203,13.1719137 0.0521424311,16.0650032 0.0521424311,19.6489799 C0.0521424311,23.2329566 2.94523203,26.1260462 6.52920869,26.1260462 C8.60186989,26.1260462 10.4586289,25.132896 11.6245008,23.6215806 L22.1173482,29.7100228 C21.8150851,30.4440903 21.6423633,31.3076992 21.6423633,32.171308 C21.6423633,35.7552847 24.5354529,38.6483743 28.1194296,38.6483743 C31.7034062,38.6483743 34.5964958,35.7552847 34.5964958,32.171308 C34.5964958,28.5873313 31.7034062,25.6942418 28.1194296,25.6942418 Z M28.1194296,2.37680322 C30.7534365,2.37680322 32.8692781,4.49264486 32.8692781,7.12665181 C32.8692781,9.76065876 30.7534365,11.8765004 28.1194296,11.8765004 C25.4854226,11.8765004 23.369581,9.76065876 23.369581,7.12665181 C23.369581,4.49264486 25.4854226,2.37680322 28.1194296,2.37680322 Z M6.52920869,24.3988285 C3.89520174,24.3988285 1.7793601,22.2829869 1.7793601,19.6489799 C1.7793601,17.014973 3.89520174,14.8991313 6.52920869,14.8991313 C9.16321564,14.8991313 11.2790573,17.014973 11.2790573,19.6489799 C11.2790573,22.2829869 9.16321564,24.3988285 6.52920869,24.3988285 Z M28.1194296,36.9211566 C25.4854226,36.9211566 23.369581,34.805315 23.369581,32.171308 C23.369581,29.5373011 25.4854226,27.4214594 28.1194296,27.4214594 C30.7534365,27.4214594 32.8692781,29.5373011 32.8692781,32.171308 C32.8692781,34.805315 30.7534365,36.9211566 28.1194296,36.9211566 Z"})},ywKJ:function(e,n,t){"use strict";var i=t("q1tI"),a=t.n(i).a.createElement;n.a=a("path",{d:"M32.5949064,0.268899836 L12.1199431,0.268899836 C11.4240303,0.268899836 10.793285,0.268899836 10.2277071,0.268899836 L2.84427668,0.268899836 C1.80040745,0.268899836 0.952040731,1.11798007 0.952040731,2.1618493 L0.952040731,33.385883 L7.66905024,26.6688735 L32.5949064,26.6688735 C33.6387757,26.6688735 34.4871424,25.8205067 34.4871424,24.7766375 L34.4871424,19.5337455 L34.4871424,2.1618493 C34.4871424,1.11798007 33.6387757,0.268899836 32.5949064,0.268899836 Z M33.0601168,24.7766375 C33.0601168,25.0327886 32.8510575,25.2418479 32.5949064,25.2418479 L7.07826164,25.2418479 L2.37906633,29.9410432 L2.37906633,2.1618493 C2.37906633,1.90498469 2.58812558,1.69592544 2.84427668,1.69592544 L10.2277071,1.69592544 L32.5949064,1.69592544 C32.8510575,1.69592544 33.0601168,1.90498469 33.0601168,2.1618493 L33.0601168,19.5337455 L33.0601168,24.7766375 Z"})}}]);
//# sourceMappingURL=chunk-post-actions.de8cb6ed15a9fa0d471a.js.map